i stole 90% of this code from here:
https://github.com/amonks/run
